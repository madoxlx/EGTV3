
> rest-express@1.0.0 dev
> cross-env NODE_ENV=development tsx server/index.ts

ğŸ”‘ Google AI API Key status: Found (AIzaSyBLsu...)
ğŸ” Full environment check: {
  hasGoogleAIKey: false,
  hasOldGoogleKey: false,
  hasGeminiKey: false,
  nodeEnv: 'development',
  keyLength: 39,
  usingFallback: true
}
âœ… Database connection established
ğŸ” Setting up admin users...
âœ… Main admin user already exists
âœ… Test admin user already exists
âœ… Admin setup completed
âœ… Unified auth setup completed
âœ… Hero slides routes setup completed
ğŸ”§ Setting up upload routes...
âœ… Upload routes and static serving setup completed
ğŸ”§ Setting up upload routes...
âœ… API routes registered successfully
âš ï¸  Skipping automatic database initialization to prevent startup delays
ğŸ’¡ Database is already configured and ready to use
âœ… Vite development setup completed
8:04:58 AM [express] âœ… Server serving on port 8080
ğŸŒ Application available at http://localhost:8080
âœ… Database connection verified
ğŸ”§ Session Debug - GET /src/lib/admin-route.tsx
   Session ID: dF54a4-BUfap_U0BmFJU-Kc_xv7r6bbr
   Session User: None
ğŸ”§ Session Debug - GET /src/components/admin/SessionGuard.tsx
   Session ID: 8blwSLNM5YclJbcBXbbayiLc_Hc4usWD
   Session User: None
ğŸ”¥ API ROUTE DEBUG: GET /api/menus/location/header
ğŸ”¥ Query params: {}
ğŸ”¥ STORAGE: getMenuByLocation called with location: header
ğŸ”¥ API ROUTE DEBUG: GET /api/countries
ğŸ”¥ Query params: {}
ğŸ”¥ API ROUTE: GET /api/countries
ğŸ”¥ Query params: {}
ğŸ”¥ Active filter: undefined
ğŸ” listCountries called with active: undefined
ğŸ”¥ API ROUTE DEBUG: GET /api/destinations
ğŸ”¥ Query params: {}
ğŸ”¥ STORAGE: getMenuByLocation query returned: 0 results
ğŸ”¥ STORAGE: Found menu: None
8:05:05 AM [express] GET /api/menus/location/header 404 in 121ms
ğŸ”¥ API ROUTE DEBUG: GET /api/packages
ğŸ”¥ Query params: {}
ğŸ”¥ API ROUTE DEBUG: GET /api/homepage-sections?active=true
ğŸ”¥ Query params: { active: 'true' }
Error listing packages: error: column "review_count" does not exist
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async NeonPreparedQuery.execute (/home/runner/workspace/node_modules/src/neon-serverless/session.ts:102:18)
    at async DatabaseStorage.listPackages (/home/runner/workspace/server/storage.ts:633:14)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:594:24) {
  length: 113,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '165',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
8:05:05 AM [express] GET /api/packages 304 in 177ms
ğŸ”¥ API ROUTE DEBUG: GET /api/cities
ğŸ”¥ Query params: {}
ğŸ”¥ API ROUTE DEBUG: GET /api/menus/location/footer
ğŸ”¥ Query params: {}
ğŸ”¥ STORAGE: getMenuByLocation called with location: footer
ğŸ” listCountries returning: 0 countries
ğŸ” Sample data: undefined
ğŸ”¥ Countries returned from storage: 0
8:05:05 AM [express] GET /api/countries 304 in 501ms
8:05:05 AM [express] GET /api/destinations 304 in 499ms
Error listing homepage sections: error: column "button_link" does not exist
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async NeonPreparedQuery.execute (/home/runner/workspace/node_modules/src/neon-serverless/session.ts:102:18)
    at async DatabaseStorage.listHomepageSections (/home/runner/workspace/server/storage.ts:1124:16)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:6685:24) {
  length: 111,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '78',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
8:05:05 AM [express] GET /api/homepage-sections 304 in 476ms
8:05:06 AM [express] GET /api/translations 304 in 121ms
8:05:06 AM [express] GET /api/translations/settings 304 in 118ms
8:05:06 AM [express] GET /api/cities 304 in 494ms
8:05:06 AM [express] GET /api/tour-categories 304 in 500ms
ğŸ”¥ STORAGE: getMenuByLocation query returned: 0 results
ğŸ”¥ STORAGE: Found menu: None
8:05:06 AM [express] GET /api/menus/location/footer 404 in 463ms
