
> rest-express@1.0.0 dev
> cross-env NODE_ENV=development tsx server/index.ts

ğŸ”‘ Google AI API Key status: Found (AIzaSyBLsu...)
ğŸ” Full environment check: {
  hasGoogleAIKey: false,
  hasOldGoogleKey: false,
  hasGeminiKey: false,
  nodeEnv: 'development',
  keyLength: 39,
  usingFallback: true
}
âœ… Database connection established
ğŸ” Setting up admin users...
âœ… Main admin user created successfully!
âœ… Test admin user created successfully!
âœ… Admin setup completed
âœ… Unified auth setup completed
âœ… Hero slides routes setup completed
ğŸ”§ Setting up upload routes...
âœ… Upload routes and static serving setup completed
ğŸ”§ Setting up upload routes...
âœ… API routes registered successfully
âš ï¸  Skipping automatic database initialization to prevent startup delays
ğŸ’¡ Database is already configured and ready to use
âœ… Vite development setup completed
9:26:22 AM [express] âœ… Server serving on port 8080
ğŸŒ Application available at http://localhost:8080
âœ… Database connection verified
ğŸ”§ Session Debug - GET /src/lib/admin-route.tsx
   Session ID: yHkQjMFFD7K2oPkHSZydeztdxOCDJMaE
   Session User: None
ğŸ”§ Session Debug - GET /src/components/admin/SessionGuard.tsx
   Session ID: 2op1vo_hB25xPdFMELQR-YgKwZdE8MZ6
   Session User: None
ğŸ”¥ API ROUTE DEBUG: GET /api/menus/location/header
ğŸ”¥ Query params: {}
ğŸ”¥ STORAGE: getMenuByLocation called with location: header
ğŸ”¥ STORAGE: getMenuByLocation query returned: 1 results
ğŸ”¥ STORAGE: Found menu: {"id":1,"name":"Header Menu","location":"header","description":"Main navigation menu","active":true,"createdAt":"2025-07-30T08:44:08.369Z","updatedAt":null}
ğŸ”¥ API ROUTE DEBUG: GET /api/cities
ğŸ”¥ Query params: {}
ğŸ”¥ API ROUTE DEBUG: GET /api/countries
ğŸ”¥ Query params: {}
ğŸ”¥ API ROUTE: GET /api/countries
ğŸ”¥ Query params: {}
ğŸ”¥ Active filter: undefined
ğŸ” listCountries called with active: undefined
ğŸ”¥ API ROUTE DEBUG: GET /api/destinations
ğŸ”¥ Query params: {}
9:26:30 AM [express] GET /api/cities 304 in 164ms
9:26:30 AM [express] GET /api/tour-categories 304 in 160ms
ğŸ” listCountries returning: 0 countries
ğŸ” Sample data: undefined
ğŸ”¥ Countries returned from storage: 0
9:26:30 AM [express] GET /api/countries 304 in 168ms
9:26:30 AM [express] GET /api/destinations 304 in 165ms
ğŸ”¥ API ROUTE DEBUG: GET /api/packages
ğŸ”¥ Query params: {}
ğŸ”¥ API ROUTE DEBUG: GET /api/homepage-sections?active=true
ğŸ”¥ Query params: { active: 'true' }
Error listing homepage sections: error: column "features" does not exist
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async NeonPreparedQuery.execute (/home/runner/workspace/node_modules/src/neon-serverless/session.ts:102:18)
    at async DatabaseStorage.listHomepageSections (/home/runner/workspace/server/storage.ts:1124:16)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:6685:24) {
  length: 109,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '388',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
ğŸ”¥ API ROUTE DEBUG: GET /api/menus/location/footer
ğŸ”¥ Query params: {}
ğŸ”¥ STORAGE: getMenuByLocation called with location: footer
ğŸ”¥ STORAGE: getMenuByLocation query returned: 1 results
ğŸ”¥ STORAGE: Found menu: {"id":2,"name":"Footer Menu","location":"footer","description":"Footer navigation menu","active":true,"createdAt":"2025-07-30T08:44:08.369Z","updatedAt":null}
ğŸ”¥ API ROUTE DEBUG: GET /api/packages
ğŸ”¥ Query params: {}
ğŸ”¥ API ROUTE DEBUG: GET /api/countries
ğŸ”¥ Query params: {}
ğŸ”¥ API ROUTE: GET /api/countries
ğŸ”¥ Query params: {}
ğŸ”¥ Active filter: undefined
ğŸ” listCountries called with active: undefined
ğŸ” listCountries returning: 0 countries
ğŸ” Sample data: undefined
ğŸ”¥ Countries returned from storage: 0
ğŸ”¥ API ROUTE DEBUG: GET /api/homepage-sections
ğŸ”¥ Query params: {}
Error listing homepage sections: error: column "title_ar" does not exist
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async NeonPreparedQuery.execute (/home/runner/workspace/node_modules/src/neon-serverless/session.ts:102:18)
    at async DatabaseStorage.listHomepageSections (/home/runner/workspace/server/storage.ts:1131:14)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:6685:24) {
  length: 179,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: 'Perhaps you meant to reference the column "homepage_sections.title".',
  position: '400',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3729',
  routine: 'errorMissingColumn'
}
9:29:07 AM [express] GET /api/homepage-sections 200 in 2174ms
ğŸ”¥ API ROUTE DEBUG: GET /api/homepage-sections
ğŸ”¥ Query params: {}
Error listing homepage sections: error: column "title_ar" does not exist
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async NeonPreparedQuery.execute (/home/runner/workspace/node_modules/src/neon-serverless/session.ts:102:18)
    at async DatabaseStorage.listHomepageSections (/home/runner/workspace/server/storage.ts:1131:14)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:6685:24) {
  length: 179,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: 'Perhaps you meant to reference the column "homepage_sections.title".',
  position: '400',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3729',
  routine: 'errorMissingColumn'
}
9:29:15 AM [express] GET /api/homepage-sections 200 in 156ms
ğŸ”¥ API ROUTE DEBUG: GET /api/packages
ğŸ”¥ Query params: {}
9:29:18 AM [express] GET /api/packages 200 in 2182ms
ğŸ”¥ API ROUTE DEBUG: GET /api/homepage-sections
ğŸ”¥ Query params: {}
Error listing homepage sections: error: column "order" does not exist
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async NeonPreparedQuery.execute (/home/runner/workspace/node_modules/src/neon-serverless/session.ts:102:18)
    at async DatabaseStorage.listHomepageSections (/home/runner/workspace/server/storage.ts:1131:14)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:6685:24) {
  length: 106,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '559',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
9:33:38 AM [express] GET /api/homepage-sections 200 in 159ms
ğŸ”¥ API ROUTE DEBUG: GET /api/packages
ğŸ”¥ Query params: {}
9:33:57 AM [express] GET /api/packages 200 in 182ms
ğŸ”¥ API ROUTE DEBUG: GET /api/countries
ğŸ”¥ Query params: {}
ğŸ”¥ API ROUTE: GET /api/countries
ğŸ”¥ Query params: {}
ğŸ”¥ Active filter: undefined
ğŸ” listCountries called with active: undefined
ğŸ” listCountries returning: 0 countries
ğŸ” Sample data: undefined
ğŸ”¥ Countries returned from storage: 0
ğŸ”¥ API ROUTE DEBUG: GET /api/destinations
ğŸ”¥ Query params: {}
